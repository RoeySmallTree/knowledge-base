# V4.7 Plan & Assign Analysis

**Test Date:** 2025-12-11  
**Prompt Version:** V4.7  
**Model:** anthropic/claude-3.5-sonnet (via OpenRouter)  
**Use Case:** TODO List MVP

---

## Executive Summary

The Plan & Assign output demonstrates **solid structural understanding** and **good directive format compliance**. However, it exhibits the **same pattern of inventing specific numbers** seen in Bootstrap tests, and shows some deviation from the expected output schema.

**Overall Score: 78/100**

---

## V1 Principles Evaluation

### 1. Governance Principles

| Principle | Compliance | Score | Notes |
|-----------|------------|-------|-------|
| 1.1 Motivation & Compass | ✅ Good | 8/10 | Connects architecture to performance objectives |
| 1.2 Breakdown Orientation | ✅ Strong | 9/10 | Proper decomposition into logical hierarchy |
| 1.2.1 Coverage by roles | ✅ Good | 8/10 | Frontend/backend split matches operative expertise |
| 1.2.2 When to orchestrate | ⚠️ Partial | 7/10 | Used Collections but could benefit from more Orchestration nodes for complex areas |
| 1.2.3 Sequence discipline | ✅ Strong | 9/10 | Architecture first, then implementation — correct flow |
| 1.3 Context & Information | ✅ Good | 8/10 | Referenced mission context appropriately |
| 1.6 Perspective Ownership | ✅ Good | 8/10 | Assigned based on operative expertise |
| 4.1 Decide -> Build | ✅ Strong | 9/10 | Created Decision Product for architecture before implementation |
| 4.2 Participation & Accountability | ⚠️ Partial | 7/10 | Good assignment but no explicit request for peer input |

**Governance Score: 81/100**

---

### 2. Roles & Personas

| Principle | Compliance | Score | Notes |
|-----------|------------|-------|-------|
| 2.1 Governance Roles | ✅ Strong | 9/10 | Chair acting appropriately as mission owner |
| 2.3 Team-Role Field | ✅ Good | 8/10 | Referenced "Technical Specialist", "Frontend expertise" |
| 2.4 Tone for Collabs | N/A | - | No collabs in this output |

**Roles Score: 85/100**

---

### 3. Artifacts & Structure

| Principle | Compliance | Score | Notes |
|-----------|------------|-------|-------|
| 3.1 Content Product | ✅ Good | 8/10 | Proper atomic content products created |
| 3.2 Decision Product | ✅ Strong | 9/10 | Architecture as Decision Product is correct |
| 3.3 Collection Product | ✅ Good | 8/10 | Used Collections for grouping related content |
| 3.5 Composition Rules | ⚠️ Issue | 6/10 | Collection → Content → ??? The nesting seems slightly off |
| 3.6 Selection Guide | ✅ Good | 8/10 | Appropriate type selection for each node |
| 3.7 Structural Notes | ✅ Good | 8/10 | Completeness and hierarchical clarity present |

**Artifacts Score: 78/100**

---

### 4. Process

| Principle | Compliance | Score | Notes |
|-----------|------------|-------|-------|
| 5.1 Plan & Assign (7.2) | ✅ Strong | 9/10 | Proper chair behavior — assess, structure, assign |
| 6.1 Collabs on Content | N/A | - | First round, no collabs yet |
| 9 Context Management | ✅ Good | 8/10 | Mission context referenced in directives |

**Process Score: 85/100**

---

### 5. Quality & Metrics

| Principle | Compliance | Score | Notes |
|-----------|------------|-------|-------|
| 1.4 Success Metrics | ❌ **Issue** | 5/10 | **Invented specific numbers:** ">80% coverage", "Sub-500ms render time" |
| 1.5 Improvement Aspirations | ✅ Good | 8/10 | Quality expectations present in directives |

**Quality Score: 65/100**

---

### 6. Prompting

| Principle | Compliance | Score | Notes |
|-----------|------------|-------|-------|
| 14.1 Context-driven action | ✅ Strong | 9/10 | Actions trace to mission requirements |
| 14.2 Ambitious posture | ✅ Good | 8/10 | Parallel work streams show ambition |
| 14.3 Step breaking | ✅ Strong | 9/10 | Clear phases and dependencies |
| 14.6 Mission directive pattern | ✅ Strong | 9/10 | Directives follow CORE OBJECTIVE, DOD, WHY IT MATTERS format |

**Prompting Score: 88/100**

---

## Key Issues Identified

### ⚠️ Issue 1: Invented Specific Metrics

**Problem:** The output invents specific numerical targets:
- ">80% coverage" for tests
- "Sub-500ms render time" for UI

**Evidence:**
```json
"definition_of_done": "...Unit tests with >80% coverage...Sub-500ms render time"
```

**Why this is problematic:**
- These numbers weren't specified in the user request or Bootstrap
- Plan & Assign should flag these as needing Decision Products, not invent values
- Same anti-pattern seen in Bootstrap testing

**Recommendation:** Add to "What You Must NOT Do":
```
- ❌ **Invent specific targets** — Coverage %, latency SLAs, timeline specifics should be flagged as needing decisions
```

---

### ⚠️ Issue 2: Schema Deviation

**Problem:** Output includes free-form explanation text before the JSON output.

**Evidence:**
```
I'll work through the 6-point planning framework to structure this first round.

1. Mission Alignment Check:
- We need to establish core components...
```

**Why this is problematic:**
- The schema expects pure JSON output
- Frontend parsers may fail on text preamble
- Though the reasoning is good, it should be inside a `reasoning` field if needed

**Recommendation:** Either:
1. Add `"reasoning"` field to schema (like Bootstrap)
2. Or explicitly state "Output ONLY JSON, no preamble"

---

### ⚠️ Issue 3: structureDelta Mismatch

**Problem:** The ASCII tree in `structureDelta` doesn't match the format in the system prompt.

**System Prompt Example:**
```
Add Collection: "Marketing Materials"
  > Content: "Landing Page Copy" [operative-1]
```

**Actual Output:**
```
[Orchestration] TODO List MVP
  [Decision] System Architecture Design
  [Collection] Frontend Implementation
```

**Why this is problematic:**
- Inconsistent formats may confuse the backend parser
- The LLM invented its own format instead of following the example

**Recommendation:** Reinforce the exact structureDelta format, or make the schema stricter.

---

## What Worked Well

### ✅ Strong Directive Format

Directives follow the prescribed pattern exactly:

```markdown
**CORE OBJECTIVE:** Create a comprehensive system architecture design...

**DEFINITION OF DONE:**
- Complete architecture diagram showing all system components
- Technology stack decisions with justifications
- Data flow patterns and API contract
...

**WHY IT MATTERS:** This design will be the foundation for all implementation work...

**CONTEXT:** Initial architecture design needed to start implementation work.
```

### ✅ Correct Decide → Build Sequencing

Architecture Decision Product created BEFORE implementation Content Products:
1. System Architecture Design (Decision) — importance: 10
2. Core UI Components (Content) — importance: 8

### ✅ Proper Parallelization

Enabled parallel work streams:
- Jordan (operative-2): Architecture design
- Alex (operative-1): UI components in parallel

### ✅ Round Focus Selection

Set architecture as round focus (critical path), UI as supporting work.

---

## Comparison: Plan & Assign vs Bootstrap Issues

| Issue | Bootstrap (V4.7-V4.9) | Plan & Assign (V4.7) |
|-------|----------------------|---------------------|
| Invented brand name | ✅ Fixed in V4.10 | ❌ N/A (used "TODO List MVP" from input) |
| Invented metrics | ❌ Present in V4.7 | ❌ **Still present** |
| Schema compliance | ✅ Pure JSON | ⚠️ Text preamble added |
| Directive quality | N/A | ✅ Strong |
| Structural decisions | N/A | ✅ Appropriate |

---

## Recommendations for V4.8 Plan & Assign

### 1. Add "What You Must NOT Do" Section

```markdown
### What You Must NOT Do

- ❌ **Invent specific metrics** — Coverage %, latency targets, revenue numbers should be flagged as Decision Products
- ❌ **Add preamble text** — Output must be pure JSON
- ❌ **Deviate from structureDelta format** — Use the exact format shown in examples
```

### 2. Add Positive Guidance for Metrics

```markdown
### When You Encounter Metrics in DoD

If a DoD needs specific targets, do ONE of:
1. Use the target from Bootstrap/user if specified
2. Flag it as needing a Decision Product in `questionsForUser` or create a Decision node
3. Use qualitative criteria: "passes load testing" instead of "handles 1000 RPS"
```

### 3. Enforce Pure JSON Output

Add to prompt:
```markdown
### Output Format

Your response must be **pure JSON only** — no explanation, no preamble, no markdown fences.
```

---

## Score Summary

| Category | Score | Weight | Weighted |
|----------|-------|--------|----------|
| Governance | 81 | 25% | 20.25 |
| Roles & Personas | 85 | 10% | 8.5 |
| Artifacts & Structure | 78 | 20% | 15.6 |
| Process | 85 | 15% | 12.75 |
| Quality & Metrics | 65 | 15% | 9.75 |
| Prompting | 88 | 15% | 13.2 |
| **TOTAL** | | | **78/100** |

---

## Next Steps

1. **Create V4.8 Plan & Assign** with:
   - "What You Must NOT Do" section (mirror Bootstrap)
   - Explicit "no invented metrics" rule
   - Pure JSON enforcement
   - Updated example output without invented numbers

2. **Re-run test** with restaurant SaaS use case for direct comparison with Bootstrap iterations

3. **Cross-validate** that fixes from Bootstrap (V4.10) apply conceptually to Plan & Assign

